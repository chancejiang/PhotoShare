/*
 * Simple Hook-io Repl
 */

var Hook = require('hook.io').Hook,
    replModule = require('repl'),
    util = require('util');



var REPL = exports.REPL = function (options) {

  var self = this;
  
  Hook.call(this, options);
  
  self.on('hook::ready', function () {

   var welcome = '  \
  __    __    ______     ______    __  ___         __    ______   \n\
   |  |  |  |  /  __  \\   /  __  \\  |  |/  /        |  |  /  __  \\  \n\
   |  |__|  | |  |  |  | |  |  |  | |  \'  /         |  | |  |  |  | \n\
   |   __   | |  |  |  | |  |  |  | |    <          |  | |  |  |  | \n\
   |  |  |  | |  `--\'  | |  `--\'  | |  .  \\    __   |  | |  `--\'  | \n\
   |__|  |__|  \\______/   \\______/  |__|\\__\\  (__)  |__|  \\______/  \n\
   ';

   console.log(welcome.rainbow);
   console.log('hook.io enabled repl started!'.green);
   console.log('hint: try accessing the "hook" object'.yellow);
   replModule.start("> ").context.hook = self;

  });
};

//
// Inherit from `hookio.Hook`
//
util.inherits(REPL, Hook);
